<launch>
  <arg name="view_only" default="false" description="If true, also launch joint_state_publisher_gui"/>
  <arg name="gazebo" default="false" description="Include Gazebo tags in URDF (harmless in RViz)"/>

  <node pkg="robot_state_publisher" exec="robot_state_publisher">
    <param name="robot_description"
           value="$(command '$(exec-in-pkg xacro xacro) $(find-pkg-share diff_drive)/urdf/ddrive.urdf.xacro gazebo:=$(var gazebo)')" />
  </node>

  <node pkg="joint_state_publisher_gui" exec="joint_state_publisher_gui"
        if="$(var view_only)"/>

  <node pkg="rviz2" exec="rviz2" name="rviz2"
        args="-d $(find-pkg-share diff_drive)/config/ddrive_rviz.rviz"/>
</launch>
